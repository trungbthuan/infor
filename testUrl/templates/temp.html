{% extends "sidebar.html" %} {% load static %}

<!DOCTYPE html>
<html lang="en">
   <body>
      {% block title %} This is first page {% endblock %} {% block content %}
      <link rel="stylesheet" href="{% static 'css/myStyle.css' %}" />
      <link rel="stylesheet" href="{% static 'css/selectOption.css' %}" />
      <link rel="stylesheet" href="{% static 'css/datePicker.css' %}" />
      <link rel="stylesheet" href="{% static 'css/popups.css' %}" />
      <link rel="stylesheet" href="{% static 'css/btnStyle.css' %}" />

      <script type="text/JavaScript" src="{% static 'js/datePicker.js' %}"></script>
      <script type="text/JavaScript" src="{% static 'js/datePicker.js' %}"></script>
      <h1>This is temp form</h1>
      <div class="flex-col">
         <div class="selectdiv">
            <label>
               <select id="choose-option_id" onchange="chooseOption(event)">
                  <option selected>Select Option</option>
                  <option value="value01">Option 1</option>
                  <option value="value02">Option 2</option>
                  <option value="value03">Option 3</option>
                  <option value="value04">Option 4</option>
               </select>
            </label>
         </div>
         <div>
            <p style="color: red; font-weight: bold" id="show_message" onclick="click_me()"></p>
         </div>

         {% comment %}
         <div>
            <label>Date</label>
            <input type="date" id="datePicker1" onchange="myDatePicker()" />
         </div>
         {% endcomment %}

         <br />
         <div class="date-input-container">
            <input type="date" id="datePicker" />
            <span class="custom-calendar-icon">üìÖ</span>
         </div>

         <br />
         <div>
            <div id="myModal" class="modal">
               <div class="modal-content">
                  <span class="close-button">&times;</span>
                  <p id="modal-message">N·ªôi dung th√¥ng b√°o t√πy ch·ªânh s·∫Ω ·ªü ƒë√¢y.</p>
                  <button id="modal-confirm">ƒê√£ hi·ªÉu</button>
               </div>
            </div>
            <button id="openModalBtn" style="width: 120px; height: 35px" class="btn-like">M·ªü Popup</button>
         </div>

         <br />
      </div>

      <script>
         //Ph·∫ßn popups
         var modal = document.getElementById("myModal");
         var btn = document.getElementById("openModalBtn");
         var closeButton = document.querySelector(".close-button");
         var confirmButton = document.getElementById("modal-confirm");
         var messageElement = document.getElementById("modal-message");

         function showPopup(message) {
            // 1. C·∫≠p nh·∫≠t n·ªôi dung
            messageElement.innerHTML = message;

            // 2. Hi·ªÉn th·ªã Popup (thay ƒë·ªïi CSS display)
            modal.style.display = "block";
         }

         // --- C√°c h√†m ƒë√≥ng Popup ---

         // 1. ƒê√≥ng khi click n√∫t X
         closeButton.onclick = function () {
            modal.style.display = "none";
         };

         // 2. ƒê√≥ng khi click n√∫t 'ƒê√£ hi·ªÉu'
         confirmButton.onclick = function () {
            modal.style.display = "none";
         };

         // 3. ƒê√≥ng khi click ra ngo√†i Popup (tr√™n n·ªÅn m·ªù)
         window.onclick = function (event) {
            if (event.target == modal) {
               modal.style.display = "none";
            }
         };

         // --- V√≠ d·ª• s·ª≠ d·ª•ng ---
         btn.onclick = function () {
            showPopup("B·∫°n ƒë√£ click n√∫t! ƒê√¢y l√† th√¥ng b√°o thay cho alert().");
         };
         // H·∫øt ph·∫ßn popups

         // Ph·∫ßn DatePicker
         document.getElementById("datePicker1").value = toDay();
         document.getElementById("datePicker").value = toDay();

         function myDatePicker() {
            var d = changeDateFormat(document.getElementById("datePicker").value);
            alert(d);
         }

         function chooseOption(event) {
            // L·∫•y ph·∫ßn t·ª≠ <p> ƒë·ªÉ hi·ªÉn th·ªã th√¥ng b√°o
            var messageElement = document.getElementById("show_message");

            var selectElement = event.target;
            // 1. L·∫•y gi√° tr·ªã c·ªßa thu·ªôc t√≠nh 'value' (value01, value02,...)
            var value = selectElement.value;
            // 2. L·∫•y ch·ªâ m·ª•c (v·ªã tr√≠) c·ªßa t√πy ch·ªçn ƒë∆∞·ª£c ch·ªçn
            var selectedIndex = selectElement.selectedIndex;
            // 3. D√πng ch·ªâ m·ª•c ƒë·ªÉ truy c·∫≠p v√†o t√πy ch·ªçn trong m·∫£ng 'options' v√† l·∫•y .text
            var value2 = selectElement.options[selectedIndex].text;

            if (selectedIndex === 0) {
               messageElement.innerHTML = "Vui l√≤ng ch·ªçn m·ªôt t√πy ch·ªçn h·ª£p l·ªá.";
            } else {
               messageElement.innerHTML = "üéâ B·∫°n ƒë√£ ch·ªçn: **" + value2 + "** (Gi√° tr·ªã: " + value + ")";
            }
         }
      </script>

      {% endblock %}
   </body>
</html>
